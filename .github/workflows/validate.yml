# https://docs.github.com/en/actions/reference/workflows-and-actions/workflow-syntax
name: Validate

on:  # https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows
  push:
    branches-ignore:  # build all branches except:
    - 'dependabot/**'  # prevent workflow being triggered twice (once for commit to the branch and once for opening/syncing the PR)
    tags-ignore:  # don't build tags
    - '**'
    paths-ignore:
    - '**/*.md'
    - '.editorconfig'
    - '.git*'
  pull_request:
    paths-ignore:
    - '**/*.md'
    - '.editorconfig'
    - '.git*'

defaults:
  run:
    shell: bash


jobs:

  ###########################################################
  build:
  ###########################################################

    strategy:
      fail-fast: false
      matrix:
        os:  # https://github.com/actions/runner-images#available-images
        - ubuntu-latest
        - macos-15-intel # Intel
        - macos-latest # ARM
        - windows-latest
    runs-on: ${{ matrix.os }}
    timeout-minutes: 20

    steps:

    - name: Git Checkout
      uses: actions/checkout@v5  # https://github.com/actions/checkout


    - name: "Install: JDK 11 ‚òï"
      uses: actions/setup-java@v5  # https://github.com/actions/setup-java
      with:
        distribution: temurin
        java-version: 11
        cache: gradle


    - name: Build with Gradle üèóÔ∏è
      run: ./gradlew build
